
if(CONFIG_FAT_FILESYSTEM_ELM)
add_library(ELMFAT INTERFACE)

target_include_directories(ELMFAT INTERFACE include)

zephyr_library()
zephyr_library_sources(
    ff.c
    zfs_diskio.c
    )
zephyr_library_sources_ifdef(CONFIG_FS_FATFS_LFN
    option/ffunicode.c
)
if("${CONFIG_FS_FATFS_LFN}" OR "${CONFIG_FS_FATFS_REENTRANT}")
    zephyr_library_sources(option/ffsystem.c)
endif()

zephyr_library_link_libraries(ELMFAT)
target_link_libraries(ELMFAT INTERFACE zephyr_interface)
endif()
